<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
		xmlns:f="http://java.sun.com/jsf/core"
			xmlns:ui="http://java.sun.com/jsf/facelets">
<head>
<title>Feinstaubr</title>
<!-- from https://material.io/components -->
<meta name="viewport" content="width=device-width, initial-scale=1" />
<script type="text/javascript"
	src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<link rel="stylesheet"
	href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" />
<link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet" />
<style>
.chart{
	height:15rem;
}
.my-bordered-list {
	/* remove the side padding. we'll be placing it around the item instead. */
	padding-right: 0;
	padding-left: 0;
}

.my-bordered-list .mdc-list-item {
	/* Add the list side padding padding to the list item. */
	padding: 0 16px;
	/* Add a border around each element. */
	border: 1px solid rgba(0, 0, 0, .12);
}
/* Ensure adjacent borders don't collide with one another. */
.my-bordered-list .mdc-list-item:not (:first-child ) {
	border-top: none;
}
</style>
</head>
<body class="mdc-typography">
	<header class="mdc-toolbar mdc-toolbar--fixed">
	  <div class="mdc-toolbar__row">
	    <section class="mdc-toolbar__section mdc-toolbar__section--align-start">
	      <span class="mdc-toolbar__title">Feinstaubr</span>
	    </section>
	  </div>
	  	<div id="progressbar" role="progressbar" class="mdc-linear-progress mdc-linear-progress--indeterminate">
	  <div class="mdc-linear-progress__buffering-dots"></div>
	  <div class="mdc-linear-progress__buffer"></div>
	  <div class="mdc-linear-progress__bar mdc-linear-progress__primary-bar">
	    <span class="mdc-linear-progress__bar-inner"></span>
	  </div>
	  <div class="mdc-linear-progress__bar mdc-linear-progress__secondary-bar">
	    <span class="mdc-linear-progress__bar-inner"></span>
	  </div>
	</div>				
	  
	</header>
		
	<main class="mdc-toolbar-fixed-adjust">
	<div class="mdc-layout-grid">
		<div class="mdc-layout-grid__inner">
			<div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-mobile">
				<div class="mdc-card">
				<section class="mdc-card__primary">
					<h1 class="mdc-card__title mdc-card__title--large">Aktuell</h1>
				</section>
				<ul class="mdc-list mdc-list--dense" id="current">
					<li class="mdc-list-item">
						<span class="mdc-list-item__graphic">
							<i class="material-icons" aria-hidden="true">access_time</i>
						</span>
						<span class="mdc-list-item__text val_date">
							<h:outputText value="#{indexViewController.currentSensorData[0].date}">
								<f:convertDateTime pattern="dd.MM.yyyy HH:mm:ss" timeZone="Europe/Berlin" />
							</h:outputText>
						</span>
					</li>
					
					<ui:repeat value="#{indexViewController.currentSensorData}" var="data">
						<li class="mdc-list-item">
							<span class="mdc-list-item__graphic">
								<i class="material-icons" aria-hidden="true">
									<h:outputText value="wb_sunny" rendered="#{data.type == 'temperature'}"/>
									<h:outputText value="grain" rendered="#{data.type == 'humidity'}"/>
									<h:outputText value="location_city" rendered="#{data.type == 'SDS_P1'}"/>
									<h:outputText value="location_city" rendered="#{data.type == 'SDS_P2'}"/>
								</i>
							</span>
							<span class="mdc-list-item__text val_#{data.type}">
								<h:outputText value="#{data.value}">
									<f:convertNumber locale="de_DE" />
								</h:outputText>
								<h:outputText value=" °C" rendered="#{data.type == 'temperature'}"/>
								<h:outputText value=" %" rendered="#{data.type == 'humidity'}"/>
								<h:outputText value=" PM10 in μg/m³" rendered="#{data.type == 'SDS_P1'}"/>
								<h:outputText value=" PM2.5 in μg/m³" rendered="#{data.type == 'SDS_P2'}"/>
							</span>
						</li>
					</ui:repeat>
				</ul>
				</div>
			</div>
		</div>
	</div>
		<nav id="basic-tab-bar" class="mdc-tab-bar" data-mdc-auto-init="MDCTabBar">
		  <a class="mdc-tab" href="#day">Tag</a>
		  <a class="mdc-tab" href="#week">Woche</a>
		  <a class="mdc-tab" href="#month">Monat</a>
		  <a class="mdc-tab" href="#year">Jahr</a>
		  <span class="mdc-tab-bar__indicator"></span>
		</nav>
	<div class="mdc-layout-grid">
		<div class="mdc-layout-grid__inner">
			<div class="mdc-layout-grid__cell  mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-mobile">
				<div class="mdc-card">
					<section class="mdc-card__primary">
						<h1 class="mdc-card__title mdc-card__title--large">Temperatur</h1>
					</section>
					<div id="chart_temperature" class="chart"></div>
					<section class="mdc-card__supporting-text">
					<ul class="mdc-list mdc-list--dense" id="temperature">
						<li class="mdc-list-item">
							<span class="mdc-list-item__graphic">
								<i class="material-icons" aria-hidden="true">arrow_upward</i>
							</span>
							<span class="mdc-list-item__text val_maxs">
							</span>
						</li>
						<li class="mdc-list-item">
							<span class="mdc-list-item__graphic">
								<i class="material-icons" aria-hidden="true">arrow_forward</i>
							</span>
							<span class="mdc-list-item__text val_avg"></span>
						</li>
						<li class="mdc-list-item">
							<span class="mdc-list-item__graphic">
								<i class="material-icons" aria-hidden="true">arrow_downward</i>
							</span>
							<span class="mdc-list-item__text val_mins"></span>
						</li>
					</ul>
					</section>
				</div>
			</div>
			<div class="mdc-layout-grid__cell   mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-mobile">
				<div class="mdc-card">
					<section class="mdc-card__primary">
						<h1 class="mdc-card__title mdc-card__title--large">Luftfeuchtigkeit</h1>
					</section>
					<div id="chart_humidity" class="chart"></div>
					<section class="mdc-card__supporting-text">
					<ul class="mdc-list mdc-list--dense" id="humidity">
						<li class="mdc-list-item">
							<span class="mdc-list-item__graphic">
								<i class="material-icons" aria-hidden="true">arrow_upward</i>
							</span>
							<span class="mdc-list-item__text val_maxs">
							</span>
						</li>
						<li class="mdc-list-item">
							<span class="mdc-list-item__graphic">
								<i class="material-icons" aria-hidden="true">arrow_forward</i>
							</span>
							<span class="mdc-list-item__text val_avg"></span>
						</li>
						<li class="mdc-list-item">
							<span class="mdc-list-item__graphic">
								<i class="material-icons" aria-hidden="true">arrow_downward</i>
							</span>
							<span class="mdc-list-item__text val_mins"></span>
						</li>
					</ul>
					</section>
				</div>
			</div>
			<div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-mobile">
				<div class="mdc-card">
					<section class="mdc-card__primary">
						<h1 class="mdc-card__title mdc-card__title--large">PM10</h1>
					</section>
					<div id="chart_SDS_P1" class="chart"></div>
					<section class="mdc-card__supporting-text">
					<ul class="mdc-list mdc-list--dense" id="SDS_P1">
						<li class="mdc-list-item">
							<span class="mdc-list-item__graphic">
								<i class="material-icons" aria-hidden="true">arrow_upward</i>
							</span>
							<span class="mdc-list-item__text val_maxs">
							</span>
						</li>
						<li class="mdc-list-item">
							<span class="mdc-list-item__graphic">
								<i class="material-icons" aria-hidden="true">arrow_forward</i>
							</span>
							<span class="mdc-list-item__text val_avg"></span>
						</li>
						<li class="mdc-list-item" title="Minimum">
							<span class="mdc-list-item__graphic">
								<i class="material-icons" aria-hidden="true">arrow_downward</i>
							</span>
							<span class="mdc-list-item__text val_mins"></span>
						</li>
					</ul>
					</section>
				</div>
			</div>
			<div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-mobile">
				<div class="mdc-card">
					<section class="mdc-card__primary">
						<h1 class="mdc-card__title mdc-card__title--large">PM2.5</h1>
					</section>
					<div id="chart_SDS_P2" class="chart"></div>
					<section class="mdc-card__supporting-text">
					<ul class="mdc-list mdc-list--dense" id="SDS_P2">
						<li class="mdc-list-item">
							<span class="mdc-list-item__graphic">
								<i class="material-icons" aria-hidden="true">arrow_upward</i>
							</span>
							<span class="mdc-list-item__text val_maxs">
							</span>
						</li>
						<li class="mdc-list-item">
							<span class="mdc-list-item__graphic">
								<i class="material-icons" aria-hidden="true">arrow_forward</i>
							</span>
							<span class="mdc-list-item__text val_avg"></span>
						</li>
						<li class="mdc-list-item">
							<span class="mdc-list-item__graphic">
								<i class="material-icons" aria-hidden="true">arrow_downward</i>
							</span>
							<span class="mdc-list-item__text val_mins"></span>
						</li>
					</ul>
					</section>
				</div>
			</div>

		</div>
	</div>
	
	<div class="mdc-snackbar"
	     aria-live="assertive"
	     aria-atomic="true"
	     aria-hidden="true">
	  <div class="mdc-snackbar__text">Ein Fehler ist aufgetreten</div>
	  <div class="mdc-snackbar__action-wrapper">
	    <button type="button" class="mdc-snackbar__action-button"></button>
	  </div>
	</div>
	
	<p class="mdc-typography--body1" style="text-align:right">Version: #{indexViewController.version}</p>
	</main>

	<script type="text/javascript"
		src="https://www.gstatic.com/charts/loader.js"></script>
	<script type="text/javascript" src="resources/script.js" />
	<script
		src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
	<script>
		var visProp = getHiddenProp();
		if (visProp) {
		  var evtname = visProp.replace(/[H|h]idden/,'') + 'visibilitychange';
		  document.addEventListener(evtname, visChange);
		}
		google.charts.load('current', {
			'packages' : [ 'corechart' ]
		});
	
		google.charts.setOnLoadCallback(loadData);
		updateActiveTab();
		window.mdc.autoInit();
	</script>
</body>
</html>
