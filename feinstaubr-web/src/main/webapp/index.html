<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
	<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css">
	<script type="text/javascript">
		google.charts.load('current', { 'packages' : [ 'corechart' ] });
	
		google.charts.setOnLoadCallback(drawChart);
	
		function drawChart() {
			createChart("temperature", "Temperature");
			createChart("humidity", "Humidity");
			createChart("p1", "PM2.5");
			createChart("p2", "PM10");
		}
		function createChart(sensorType, sensorLabel) {
			var temperature = $.ajax({
				url : "rest/sensor/7620363/" + sensorType,
				dataType : "json",
				async : false
			}).responseText;
			var data = new google.visualization.DataTable(temperature);
			var chart = new google.visualization.LineChart(document.getElementById(sensorType));
	
			var options = {
				title : sensorLabel,
				legend : {
					position : 'bottom'
				},
				curveType : 'function',
				vAxis : {
					minValue : 0,
				},
				hAxis : {
					gridlines: { count: 6 } 
				}
			};
	
			chart.draw(data, options);

		}
		$(window).resize(function(){
			drawChart();
		});

	</script>
</head>
<body class="mdc-typography">
	<main>
		<h1 class="mdc-typography--display1">Hab Dich lieb!!</h1>
		<div id="temperature"></div>
		<div id="humidity"></div>
		<div id="p1"></div>
		<div id="p2"></div>
	</main>
	
	<script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
	<script>window.mdc.autoInit();</script>  
</body>
</html>
